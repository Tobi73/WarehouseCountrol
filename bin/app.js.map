{"version":3,"sources":["../src/app.js"],"names":["app","dirpath","join","__dirname","console","log","set","use","static","json","get","req","res","cursor","model","products","find","limit","viewModel","map","product","name","quantity","render"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,MAAMA,MAAM,wBAAZ;;AAEA,MAAMC,UAAU,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,QAA3B,CAAhB;AACAC,QAAQC,GAAR,CAAYJ,OAAZ;AACAD,IAAIM,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAN,IAAIO,GAAJ,CAAQ,SAAR,EAAmB,kBAAQC,MAAR,CAAeP,OAAf,CAAnB;AACAD,IAAIO,GAAJ,CAAQ,qBAAWE,IAAX,EAAR;;AAEAT,IAAIO,GAAJ,CAAQ,UAAR,qBACKG,GADL,CACS,GADT;AAAA,iCACc,WAAOC,GAAP,EAAYC,GAAZ,EAAoB;AAC9B,YAAIC,SAAS,mBAASC,KAAT,CAAe,SAAf,CAAb;AACA,YAAIC,WAAW,MAAMF,OAAOG,IAAP,CAAY,EAAZ,EAAgBC,KAAhB,CAAsB,EAAtB,CAArB;AACA,YAAIC,YAAYH,SAASI,GAAT,CAAa,UAACC,OAAD,EAAa;AAAE,mBAAO;AAC/CC,sBAAMD,QAAQC,IADiC;AAE/CC,0BAAUF,QAAQE;AAF6B,aAAP;AAG1C,SAHc,CAAhB;AAIAV,YAAIW,MAAJ,CAAW,aAAX,EAA0B,EAAER,UAAUG,SAAZ,EAA1B;AACH,KATD;;AAAA;AAAA;AAAA;AAAA;;kBAWelB,G","file":"app.js","sourcesContent":["import express from 'express';\r\nimport path from 'path';\r\nimport product from './control/product.js';\r\nimport bodyParser from 'body-parser';\r\nimport mongoose from 'mongoose';\r\n\r\nconst app = express();\r\n\r\nconst dirpath = path.join(__dirname, '..', 'public')\r\nconsole.log(dirpath)\r\napp.set('view engine', 'ejs')\r\napp.use('/static', express.static(dirpath));\r\napp.use(bodyParser.json());\r\n\r\napp.use('/product', product)\r\n    .get('/', async (req, res) => {\r\n    var cursor = mongoose.model('Product');\r\n    var products = await cursor.find({}).limit(20);\r\n    var viewModel = products.map((product) => { return {\r\n        name: product.name,\r\n        quantity: product.quantity\r\n    }});\r\n    res.render('pages/index', { products: viewModel});\r\n})\r\n\r\nexport default app;"]}