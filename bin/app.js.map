{"version":3,"sources":["../src/app.js"],"names":["app","dirpath","join","__dirname","console","log","set","use","static","json","get","req","res","cursor","model","products","find","limit","viewModel","map","product","name","quantity","render"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,MAAMA,MAAM,wBAAZ;;AAEA,MAAMC,UAAU,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,QAA3B,CAAhB;AACAC,QAAQC,GAAR,CAAYJ,OAAZ;AACAD,IAAIM,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAN,IAAIO,GAAJ,CAAQ,SAAR,EAAmB,kBAAQC,MAAR,CAAeP,OAAf,CAAnB;AACAD,IAAIO,GAAJ,CAAQ,qBAAWE,IAAX,EAAR;;AAEAT,IAAIO,GAAJ,CAAQ,UAAR,qBACKG,GADL,CACS,GADT;AAAA,iCACc,WAAOC,GAAP,EAAYC,GAAZ,EAAoB;AAC9B,YAAIC,SAAS,mBAASC,KAAT,CAAe,SAAf,CAAb;AACA,YAAIC,WAAW,MAAMF,OAAOG,IAAP,CAAY,EAAZ,EAAgBC,KAAhB,CAAsB,EAAtB,CAArB;AACA,YAAIC,YAAYH,SAASI,GAAT,CAAa,UAACC,OAAD,EAAa;AAAE,mBAAO;AAC/CC,sBAAMD,QAAQC,IADiC;AAE/CC,0BAAUF,QAAQE;AAF6B,aAAP;AAG1C,SAHc,CAAhB;AAIAV,YAAIW,MAAJ,CAAW,aAAX,EAA0B,EAAER,UAAUG,SAAZ,EAA1B;AACH,KATD;;AAAA;AAAA;AAAA;AAAA;;kBAWelB,G","file":"app.js","sourcesContent":["import express from 'express';\nimport path from 'path';\nimport product from './control/product.js';\nimport bodyParser from 'body-parser';\nimport mongoose from 'mongoose';\n\nconst app = express();\n\nconst dirpath = path.join(__dirname, '..', 'public')\nconsole.log(dirpath)\napp.set('view engine', 'ejs')\napp.use('/static', express.static(dirpath));\napp.use(bodyParser.json());\n\napp.use('/product', product)\n    .get('/', async (req, res) => {\n    var cursor = mongoose.model('Product');\n    var products = await cursor.find({}).limit(20);\n    var viewModel = products.map((product) => { return {\n        name: product.name,\n        quantity: product.quantity\n    }});\n    res.render('pages/index', { products: viewModel});\n})\n\nexport default app;"]}