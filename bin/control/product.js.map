{"version":3,"sources":["../../src/control/product.js"],"names":["product","router","post","req","res","next","body","add","end","e","name","products","search","render"],"mappings":";;;;;;AAAA;;AACA;;IAAYA,O;;;;;;AAEZ,MAAMC,SAAS,sBAAf;;AAEAA,OAAOC,IAAP,CAAY,MAAZ;AAAA,iCAAoB,WAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,EAA0B;AAC1C,YAAI;AACA,kBAAMC,OAAOH,IAAIG,IAAjB;AACA,kBAAMN,QAAQO,GAAR,CAAYD,IAAZ,CAAN;AACAF,gBAAII,GAAJ;AACH,SAJD,CAIE,OAAOC,CAAP,EAAU;AACRJ,iBAAKI,CAAL;AACH;AACJ,KARD;;AAAA;AAAA;AAAA;AAAA;;AAUAR,OAAOC,IAAP,CAAY,SAAZ;AAAA,kCAAuB,WAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,EAA0B;AAC7C,YAAI;AACA,kBAAMK,OAAOP,IAAIG,IAAJ,CAASI,IAAtB;AACA,kBAAMC,WAAW,MAAMX,QAAQY,MAAR,CAAeF,IAAf,CAAvB;AACAN,gBAAIS,MAAJ,CAAW,aAAX,EAA0B,EAAEF,UAAUA,QAAZ,EAA1B;AACH,SAJD,CAIE,OAAOF,CAAP,EAAU;AACRJ,iBAAKI,CAAL;AACH;AACJ,KARD;;AAAA;AAAA;AAAA;AAAA;;kBAUeR,M","file":"product.js","sourcesContent":["import { Router } from 'express';\r\nimport * as product from './../bll/product.js';\r\n\r\nconst router = Router();\r\n\r\nrouter.post('/add', async (req, res, next) => {\r\n    try {\r\n        const body = req.body;\r\n        await product.add(body);\r\n        res.end();\r\n    } catch (e) {\r\n        next(e)\r\n    }\r\n})\r\n\r\nrouter.post('/search', async (req, res, next) => {\r\n    try {\r\n        const name = req.body.name;\r\n        const products = await product.search(name);\r\n        res.render('pages/index', { products: products});\r\n    } catch (e) {\r\n        next(e);\r\n    }\r\n})\r\n\r\nexport default router;"]}